# Copyright 2013 6WIND S.A.

menu "Fast path options"

config MCORE_FASTPATH
	bool "Fast Path support"
	default y
	help
	  Enable FastPath support

config MCORE_KTABLES
	bool "Ktable support"
	default n
	help
	  Enable Ktable support.

config MCORE_FPM
	bool "Build fpm daemon"
	default n if !MCORE_FASTPATH
	default y
	help
	  Enable to build fpm daemon.

config MCORE_FPDEBUG
	bool "Build fpdebug"
	default n if !MCORE_FASTPATH
	default y
	help
	  Enable to build fpdebug.

config MCORE_FPDEBUG_DECODE_BPF
	bool "Support for decoding BPF"
	depends on MCORE_FPDEBUG && MCORE_TAP_BPF
	default y
	help
	  Enable to build fpdebug with support decoding BPF.
	  It requires libpcap-devel.

config MCORE_FPMONITORD
	bool "Build fpmonitord"
	default n
	help
	  Enable to build fpmonitord.

config MCORE_FPTUN
	bool "FPTUN support"
	default y
	help
	  Enable FPTUN support.

config MCORE_FPTUN_INTERFACE_WHITE_LIST
	bool "FPTUN interface white list support"
	depends on MCORE_FPTUN
	default y
	help
	  Enable FPTUN interface white list.
	  Allow to check the validity of input dev where fptun packets arrive.

config MCORE_FPS
	bool "FPS support"
	default y
	help
	  Enable FPS support.

config MCORE_FPS_MODULE
    bool "FPS kernel module"
    depends on MCORE_FPS && MCORE_FPTUN
    default y
    help
      Kernel module for FPS.

config MCORE_FPS_DAEMON
    bool "FPS daemon"
    depends on MCORE_FPS
    default n if !MCORE_FASTPATH
    default y
    help
      FPS daemon.

config MCORE_FP_PLUGINS
	bool "Build fastpath plugins"
	default y
	help
	  Plugins are loaded at init time (right after fpn_sdk_init) and makes
	  it possible to override some hooks and to load optional features.

config MCORE_RFPVI
	bool "RFPVI support"
	default y
	help
	  Enable remote FPVI support.

config MCORE_EMBEDDED_FPDEBUG
	bool "Embedded fpdebug"
	default y
	help
	  Enable to embed fpdebug in fastpath.

menu "Fast path debug options"

config MCORE_DEBUG
	bool "Debug"
	default n
	help
	  Enable debug.

config MCORE_DEBUG_PROBE
	bool "Probe"
	default n
	help
	  Enable probe.

config MCORE_NO_STATS_COLLECTING
	bool "Disable all statistics"
	default n
	help
	  Enable to disable all statistics.

endmenu

source fp-modules/vnb/Mconfig

source fp-modules/tap/Mconfig

config MCORE_M_TAG
	bool "Mbuf tag"
	default y
	help
	  Enable mbuf tag support.

config MCORE_M_TAG_HASHTABLE_ORDER
	int "Order of hashtable to store mtags"
	default 1
	depends on MCORE_M_TAG
	help
	  Set order of hashtable to store mtags.

config MCORE_M_TAG_EXTRA_COUNT
	int "Extra count of mtags"
	default 2
	depends on MCORE_M_TAG
	help
	  Set extra count of mtags.

config MCORE_CPONLY_PORTMASK
	bool "Control plane port mask"
	default n
	help
	  Enable control plane port mask to redirect packets
	  received on port to the control plane.
	  
source fp-modules/ip/Mconfig

source fp-modules/ip6/Mconfig

menu "Fast path shared-mem const"
config MCORE_MAX_PORT
	int "Maximum ports"
	default 256

config MCORE_MAX_IFNET
	int "Maximum ifnet"
	default 1024

config MCORE_MAX_NB_ADDR4
	int "Maximum IPv4 addr"
	default 4096

config MCORE_MAX_NB_ADDR6
	int "Maximum IPv6 addr"
	default 4096

config MCORE_IFNET_HASH_ORDER
	int "ifnet hash order"
	default 10

endmenu

source fp-modules/ipsec/Mconfig

source fp-modules/svti/Mconfig

source fp-modules/vxlan/Mconfig

source fp-modules/vlan/Mconfig

source fp-modules/macvlan/Mconfig

source fp-modules/bridge/Mconfig

source fp-modules/lag/Mconfig

source fp-modules/gre/Mconfig

source fp-modules/filter/Mconfig

source fp-modules/filter-bridge/Mconfig

source fp-modules/nat/Mconfig

source fp-modules/filter6/Mconfig

source fp-modules/mcast/Mconfig

source fp-modules/tunnel/Mconfig

source fp-modules/mcast6/Mconfig

config MCORE_USE_HW_TX_L4CKSUM
	bool "Use HW TX L4 checksum"
	default n

config MCORE_NEXTHOP_MARKING
	bool "Next hop marking"
	depends on MCORE_M_TAG && MCORE_NETFILTER
	default y

source fp-modules/ipsec6/Mconfig

source fp-modules/tcp-udp/Mconfig

source fp-modules/tcp-udp6/Mconfig

source fp-modules/fpu-rpc/Mconfig

config MCORE_SDSIFD
	bool "Build sdsifd daemon"
	default y

config MCORE_MULTIBLADE
	bool "Multiblade support"
	default n
	help
	  Enable multiblade support.

config MCORE_HITFLAGS_SYNC
	bool "Hit-flags sync support"
	default n if !MCORE_FASTPATH
	default y

config MCORE_L2SWITCH
	bool "L2 switch mode for fast path (for benchmarking purpose)"
	default n
	help
	  This mode will replace the fast path input function by a
	  function that wires the packet to another port, for
	  benchmarking purpose.

config MCORE_BUILTIN_VSWITCH
	bool "Fast Path Virtual Switch built-in support"
	default n
	help
	  Enable built-in virtual switch implementation based on Open vSwitch
	  for both fastpath and fp-cli.

source fp-modules/traffic-gen/Mconfig

menu "Traffic Conditioning"

source fp-modules/tc/Mconfig

source fp-modules/tc-erl/Mconfig

source fp-modules/egress-qos/Mconfig

endmenu

config MCORE_1CP_XFP
	bool "Fast Path 1CP - xFP support"
	default n
	help
	  Enable support of 1CP - xFP plateform in Fastpath.

source simu/Mconfig

config MCORE_EMBEDDED_SCRIPTS
	bool "Install start up scripts"
	default y
	help
	  Enable to install start up scripts for embedded system.

endmenu
